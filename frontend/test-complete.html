<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Completo - Loghi e FontAwesome</title>
    
    <!-- FontAwesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        body {
            font-family: 'Inter', system-ui, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f8fafc;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .section {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .section h2 {
            color: #1e293b;
            margin-top: 0;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 12px;
        }
        
        .logo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .logo-item {
            text-align: center;
            padding: 16px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            background: #f8fafc;
        }
        
        .logo-item img {
            max-width: 80px;
            max-height: 80px;
            object-fit: contain;
        }
        
        .size-control {
            margin: 12px 0;
        }
        
        .size-control select {
            padding: 6px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .icon-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 16px;
            margin: 20px 0;
        }
        
        .icon-item {
            text-align: center;
            padding: 16px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            background: #fafafa;
            transition: all 0.2s;
        }
        
        .icon-item:hover {
            background: #f0f9ff;
            border-color: #3b82f6;
        }
        
        .icon-item i {
            display: block;
            margin-bottom: 8px;
            font-size: 24px;
            color: #374151;
        }
        
        .icon-name {
            font-size: 12px;
            color: #6b7280;
            font-weight: 500;
        }
        
        .controls {
            background: #f1f5f9;
            padding: 16px;
            border-radius: 8px;
            margin: 16px 0;
        }
        
        .controls label {
            display: inline-block;
            margin-right: 16px;
            font-weight: 500;
        }
        
        .controls select {
            padding: 6px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            margin-left: 8px;
        }
        
        .test-button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            margin: 8px;
            transition: background 0.2s;
        }
        
        .test-button:hover {
            background: #2563eb;
        }
        
        .status {
            padding: 12px;
            border-radius: 6px;
            margin: 12px 0;
            font-weight: 500;
        }
        
        .status.success {
            background: #dcfce7;
            color: #16a34a;
            border: 1px solid #bbf7d0;
        }
        
        .status.error {
            background: #fef2f2;
            color: #dc2626;
            border: 1px solid #fecaca;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Test Completo - MyKeyManager</h1>
        <p>Pagina di test per verificare il funzionamento delle dimensioni dei loghi e del sistema FontAwesome.</p>
        
        <!-- Test Loghi -->
        <div class="section">
            <h2><i class="fas fa-image"></i> Test Gestione Loghi</h2>
            <p>Testare le diverse dimensioni dei loghi e verificare l'aggiornamento in tempo reale.</p>
            
            <div class="controls">
                <label>
                    Configurazione Logo:
                    <select id="logoConfigSelect">
                        <option value='{"sizes":{"1":"xs","2":"md","3":"lg","4":"xl"}}'>Config 1: xs, md, lg, xl</option>
                        <option value='{"sizes":{"1":"sm","2":"lg","3":"xl","4":"2xl"}}'>Config 2: sm, lg, xl, 2xl</option>
                        <option value='{"sizes":{"1":"md","2":"xl","3":"2xl","4":"3xl"}}'>Config 3: md, xl, 2xl, 3xl</option>
                    </select>
                </label>
                <button class="test-button" onclick="applyLogoConfig()">Applica Configurazione</button>
                <button class="test-button" onclick="resetLogoConfig()">Reset</button>
            </div>
            
            <div class="logo-grid">
                <div class="logo-item">
                    <img src="/1.png" alt="Logo 1" id="logo1" style="width: 48px; height: 48px;">
                    <div>Logo 1</div>
                    <div class="size-control">
                        <select onchange="changeLogo(1, this.value)">
                            <option value="xs">XS (24px)</option>
                            <option value="sm">SM (32px)</option>
                            <option value="md" selected>MD (48px)</option>
                            <option value="lg">LG (64px)</option>
                            <option value="xl">XL (80px)</option>
                            <option value="2xl">2XL (120px)</option>
                            <option value="3xl">3XL (192px)</option>
                        </select>
                    </div>
                </div>
                
                <div class="logo-item">
                    <img src="/2.png" alt="Logo 2" id="logo2" style="width: 48px; height: 48px;">
                    <div>Logo 2</div>
                    <div class="size-control">
                        <select onchange="changeLogo(2, this.value)">
                            <option value="xs">XS (24px)</option>
                            <option value="sm">SM (32px)</option>
                            <option value="md" selected>MD (48px)</option>
                            <option value="lg">LG (64px)</option>
                            <option value="xl">XL (80px)</option>
                            <option value="2xl">2XL (120px)</option>
                            <option value="3xl">3XL (192px)</option>
                        </select>
                    </div>
                </div>
                
                <div class="logo-item">
                    <img src="/3.png" alt="Logo 3" id="logo3" style="width: 48px; height: 48px;">
                    <div>Logo 3</div>
                    <div class="size-control">
                        <select onchange="changeLogo(3, this.value)">
                            <option value="xs">XS (24px)</option>
                            <option value="sm">SM (32px)</option>
                            <option value="md" selected>MD (48px)</option>
                            <option value="lg">LG (64px)</option>
                            <option value="xl">XL (80px)</option>
                            <option value="2xl">2XL (120px)</option>
                            <option value="3xl">3XL (192px)</option>
                        </select>
                    </div>
                </div>
                
                <div class="logo-item">
                    <img src="/4.png" alt="Logo 4" id="logo4" style="width: 48px; height: 48px;">
                    <div>Logo 4</div>
                    <div class="size-control">
                        <select onchange="changeLogo(4, this.value)">
                            <option value="xs">XS (24px)</option>
                            <option value="sm">SM (32px)</option>
                            <option value="md" selected>MD (48px)</option>
                            <option value="lg">LG (64px)</option>
                            <option value="xl">XL (80px)</option>
                            <option value="2xl">2XL (120px)</option>
                            <option value="3xl">3XL (192px)</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div id="logoStatus" class="status" style="display: none;"></div>
        </div>
        
        <!-- Test FontAwesome -->
        <div class="section">
            <h2><i class="fas fa-icons"></i> Test FontAwesome</h2>
            <p>Testare le icone FontAwesome con diversi stili e configurazioni.</p>
            
            <div class="controls">
                <label>
                    Stile Icone:
                    <select id="iconStyleSelect" onchange="changeIconStyle()">
                        <option value="solid">Solid (fas)</option>
                        <option value="regular">Regular (far)</option>
                        <option value="brands">Brands (fab)</option>
                    </select>
                </label>
                
                <label>
                    Colore:
                    <select id="iconColorSelect" onchange="changeIconColor()">
                        <option value="#374151">Grigio scuro</option>
                        <option value="#3b82f6">Blu</option>
                        <option value="#10b981">Verde</option>
                        <option value="#f59e0b">Arancione</option>
                        <option value="#ef4444">Rosso</option>
                    </select>
                </label>
                
                <button class="test-button" onclick="testIconConfig()">Test Configurazione</button>
            </div>
            
            <div class="icon-grid" id="iconGrid">
                <!-- Le icone verranno generate dinamicamente -->
            </div>
            
            <div id="iconStatus" class="status" style="display: none;"></div>
        </div>
        
        <!-- Test Integrazione -->
        <div class="section">
            <h2><i class="fas fa-cogs"></i> Test Integrazione Sistema</h2>
            <p>Test di integrazione per verificare che localStorage e eventi funzionino correttamente.</p>
            
            <div class="controls">
                <button class="test-button" onclick="testLocalStorage()">Test LocalStorage</button>
                <button class="test-button" onclick="testEvents()">Test Eventi</button>
                <button class="test-button" onclick="clearAllConfigs()">Pulisci Configurazioni</button>
            </div>
            
            <div id="integrationStatus" class="status" style="display: none;"></div>
            
            <div style="margin-top: 20px;">
                <h4>Configurazioni Attuali:</h4>
                <pre id="currentConfig" style="background: #f8fafc; padding: 12px; border-radius: 6px; font-size: 12px;"></pre>
            </div>
        </div>
    </div>
    
    <script>
        // Mappatura dimensioni
        const sizeMap = {
            xs: { width: 24, height: 24 },
            sm: { width: 32, height: 32 },
            md: { width: 48, height: 48 },
            lg: { width: 64, height: 64 },
            xl: { width: 80, height: 80 },
            '2xl': { width: 120, height: 120 },
            '3xl': { width: 192, height: 192 }
        };
        
        // Set di icone per test
        const iconSets = {
            solid: ['home', 'user', 'cog', 'shield-alt', 'key', 'lock', 'edit', 'trash', 'save', 'plus', 'search', 'filter'],
            regular: ['home', 'user', 'bell', 'calendar', 'envelope', 'heart', 'star', 'bookmark', 'file', 'folder'],
            brands: ['github', 'twitter', 'linkedin', 'google', 'microsoft', 'apple', 'facebook', 'instagram', 'youtube', 'amazon']
        };
        
        // Funzioni per gestione loghi
        function changeLogo(logoNumber, size) {
            const logo = document.getElementById(`logo${logoNumber}`);
            const dimensions = sizeMap[size];
            logo.style.width = dimensions.width + 'px';
            logo.style.height = dimensions.height + 'px';
            
            showStatus('logoStatus', `Logo ${logoNumber} ridimensionato a ${size} (${dimensions.width}x${dimensions.height}px)`, 'success');
        }
        
        function applyLogoConfig() {
            const select = document.getElementById('logoConfigSelect');
            const config = JSON.parse(select.value);
            
            // Salva in localStorage
            localStorage.setItem('logoConfig', JSON.stringify(config));
            
            // Applica le dimensioni
            Object.keys(config.sizes).forEach(variant => {
                const size = config.sizes[variant];
                changeLogo(variant, size);
            });
            
            showStatus('logoStatus', 'Configurazione logo applicata e salvata in localStorage', 'success');
            updateCurrentConfig();
        }
        
        function resetLogoConfig() {
            localStorage.removeItem('logoConfig');
            
            // Reset a dimensioni medie
            [1, 2, 3, 4].forEach(num => {
                changeLogo(num, 'md');
            });
            
            showStatus('logoStatus', 'Configurazione logo resettata', 'success');
            updateCurrentConfig();
        }
        
        // Funzioni per gestione icone FontAwesome
        function changeIconStyle() {
            const style = document.getElementById('iconStyleSelect').value;
            generateIcons(style);
            
            // Salva in localStorage
            const iconConfig = getIconConfig();
            iconConfig.defaultStyle = style;
            localStorage.setItem('iconConfig', JSON.stringify(iconConfig));
            
            showStatus('iconStatus', `Stile icone cambiato a ${style}`, 'success');
            updateCurrentConfig();
        }
        
        function changeIconColor() {
            const color = document.getElementById('iconColorSelect').value;
            const icons = document.querySelectorAll('#iconGrid i');
            icons.forEach(icon => {
                icon.style.color = color;
            });
            
            // Salva in localStorage
            const iconConfig = getIconConfig();
            iconConfig.color = color;
            localStorage.setItem('iconConfig', JSON.stringify(iconConfig));
            
            showStatus('iconStatus', `Colore icone cambiato a ${color}`, 'success');
            updateCurrentConfig();
        }
        
        function generateIcons(style = 'solid') {
            const grid = document.getElementById('iconGrid');
            const icons = iconSets[style] || iconSets.solid;
            const color = document.getElementById('iconColorSelect').value;
            
            grid.innerHTML = '';
            
            icons.forEach(iconName => {
                const item = document.createElement('div');
                item.className = 'icon-item';
                
                const prefix = style === 'solid' ? 'fas' : style === 'regular' ? 'far' : 'fab';
                
                item.innerHTML = `
                    <i class="${prefix} fa-${iconName}" style="color: ${color}"></i>
                    <div class="icon-name">${iconName}</div>
                `;
                
                grid.appendChild(item);
            });
        }
        
        function testIconConfig() {
            const style = document.getElementById('iconStyleSelect').value;
            const color = document.getElementById('iconColorSelect').value;
            
            const config = {
                defaultStyle: style,
                color: color,
                availableStyles: ['solid', 'regular', 'brands']
            };
            
            localStorage.setItem('iconConfig', JSON.stringify(config));
            generateIcons(style);
            
            showStatus('iconStatus', 'Configurazione icone testata e salvata', 'success');
            updateCurrentConfig();
        }
        
        // Funzioni di utilità
        function getIconConfig() {
            const stored = localStorage.getItem('iconConfig');
            return stored ? JSON.parse(stored) : {
                defaultStyle: 'solid',
                color: '#374151',
                availableStyles: ['solid', 'regular', 'brands']
            };
        }
        
        function showStatus(elementId, message, type) {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.className = `status ${type}`;
            element.style.display = 'block';
            
            setTimeout(() => {
                element.style.display = 'none';
            }, 3000);
        }
        
        function updateCurrentConfig() {
            const logoConfig = localStorage.getItem('logoConfig');
            const iconConfig = localStorage.getItem('iconConfig');
            
            const config = {
                logoConfig: logoConfig ? JSON.parse(logoConfig) : 'Default',
                iconConfig: iconConfig ? JSON.parse(iconConfig) : 'Default'
            };
            
            document.getElementById('currentConfig').textContent = JSON.stringify(config, null, 2);
        }
        
        // Test integrazione
        function testLocalStorage() {
            try {
                // Test scrittura
                localStorage.setItem('test', 'value');
                const value = localStorage.getItem('test');
                localStorage.removeItem('test');
                
                if (value === 'value') {
                    showStatus('integrationStatus', 'LocalStorage funziona correttamente', 'success');
                } else {
                    showStatus('integrationStatus', 'Errore in LocalStorage', 'error');
                }
            } catch (e) {
                showStatus('integrationStatus', 'LocalStorage non disponibile: ' + e.message, 'error');
            }
        }
        
        function testEvents() {
            let eventReceived = false;
            
            const handler = () => {
                eventReceived = true;
                showStatus('integrationStatus', 'Sistema eventi funziona correttamente', 'success');
            };
            
            window.addEventListener('testEvent', handler);
            window.dispatchEvent(new CustomEvent('testEvent'));
            
            setTimeout(() => {
                window.removeEventListener('testEvent', handler);
                if (!eventReceived) {
                    showStatus('integrationStatus', 'Sistema eventi non funziona', 'error');
                }
            }, 100);
        }
        
        function clearAllConfigs() {
            localStorage.removeItem('logoConfig');
            localStorage.removeItem('iconConfig');
            updateCurrentConfig();
            showStatus('integrationStatus', 'Tutte le configurazioni sono state pulite', 'success');
        }
        
        // Inizializzazione
        document.addEventListener('DOMContentLoaded', () => {
            generateIcons('solid');
            updateCurrentConfig();
        });
    </script>
</body>
</html>
